<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PrimePick – 시리즈·팩 오픈</title>
<style>
:root{
  --gap: 16px;
  --stage-pad: clamp(12px, 2vw, 24px);
  --poster-w: min(26vmin, 220px);
  --pack-w:  min(48vmin, 380px);
  --card-w:  min(44vmin, 360px);
  --accent: #10b981;
  --bg: #0b0f17;
  --surface: #121826;
  --text: #eaf2ff;
  --muted: #99a3b4;

  /* rarity colors */
  --rar-legend:#EAB308; /* gold */
  --rar-icon:#22D3EE;   /* cyan */
  --rar-elite:#8B5CF6;  /* violet */
  --rar-core:#3B82F6;   /* blue */
  --rar-common:#9CA3AF; /* gray */
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%; background: radial-gradient(1200px 800px at 20% -10%, #182033, #0b0f17) no-repeat fixed; color:var(--text); font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Apple SD Gothic Neo","Noto Sans KR",Arial}
a,button{cursor:pointer}
button{border:0; background:#20283a; color:var(--text); padding:10px 14px; border-radius:10px}
button:hover{filter:brightness(1.08)}
.hidden{display:none !important}
.container{max-width:1200px; margin:0 auto; padding:var(--stage-pad)}
.header{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:12px}
.header h1{font-size:clamp(16px, 2.2vw, 22px); margin:0}
.toolbar{display:flex; align-items:center; gap:8px; flex-wrap:wrap}
.toolbar .size-group button{background:#1a2130;padding:8px 10px}
.toolbar .size-group button.active{outline:2px solid var(--accent)}
.toolbar .ghost{background:transparent; border:1px solid #2a3243}
.toolbar .pill{border-radius:999px}
.grid{display:grid; gap:var(--gap)}
.grid.series{grid-template-columns:repeat(auto-fill, minmax(var(--poster-w),1fr))}
.grid.packs{grid-template-columns:repeat(auto-fill, minmax(min(30vmin,200px),1fr))}
.card{background:linear-gradient(180deg, #141b2b, #0e1422); border:1px solid #2a3347; border-radius:16px; overflow:hidden; position:relative; box-shadow: 0 10px 24px rgba(0,0,0,.35); transition:transform .15s ease}
.card:hover{transform:translateY(-2px)}
.card .thumb{width:100%; aspect-ratio: 3/4; object-fit:cover; display:block}
.card .meta{padding:10px 12px; display:flex; align-items:center; justify-content:space-between; gap:8px}
.card .meta .name{font-weight:700; font-size:14px}
.card .meta .tag{font-size:12px; color:var(--muted)}

/* Stage */
.stage{position:relative; min-height: calc(100dvh - 140px); border:1px solid #222a3a; background:linear-gradient(180deg,#0f1524 0%, #0c111d 100%); border-radius:18px; padding:clamp(16px,2vw,24px); display:flex; align-items:center; justify-content:center; overflow:visible;}
.stage-inner{width:100%; height:100%; display:flex; align-items:center; justify-content:center; position:relative}
.pack-area{position:relative; display:flex; align-items:center; justify-content:center; width:var(--pack-w); max-height:80vh;}
@media (max-width:520px){
  :root{ --pack-w: min(72vmin, 320px); --card-w: min(68vmin, 300px); }
}
.size-s{ --pack-w: min(40vmin, 300px); --card-w: min(36vmin, 280px); }
.size-m{ --pack-w: min(48vmin, 380px); --card-w: min(44vmin, 360px); }
.size-l{ --pack-w: min(60vmin, 460px); --card-w: min(56vmin, 420px); }

/* Pack flip (오픈 전 구성 이미지 확인) */
.pack-flip{ position:relative; width:100%; aspect-ratio:2/3; perspective:1200px; }
.pack-side{ position:absolute; inset:0; border-radius:12px; overflow:hidden; backface-visibility:hidden; transform-style:preserve-3d; transition: transform .6s cubic-bezier(.2,.7,.2,1); }
.pack-front{ transform: rotateY(0); }
.pack-back { transform: rotateY(180deg); background:#101827; border:1px solid #2e3a54; display:flex; align-items:center; justify-content:center; }
.pack-back img{ width:100%; height:100%; object-fit:cover; display:block; }
.is-flipped .pack-front{ transform: rotateY(180deg); }
.is-flipped .pack-back { transform: rotateY(0); }

/* Pack halves (tear animation on front) */
.pack-display{ position:relative; width:100%; height:100%; perspective: 1000px; }
.pack-half{ position:absolute; inset:0; background:#1b2436; border:1px solid #2e3a54; border-radius: 12px; overflow:hidden; transform-origin:center; display:flex; align-items:center; justify-content:center; box-shadow: 0 18px 40px rgba(0,0,0,.45); }
.pack-half img{ width:100%; height:100%; object-fit:cover; display:block; opacity:.98; }
.pack-left{ clip-path: polygon(0 0, 52% 0, 52% 100%, 0 100%); }
.pack-right{ clip-path: polygon(48% 0, 100% 0, 100% 100%, 48% 100%); }

/* Subtle shine on click */
.pack-gloss{
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(110deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.18) 50%, rgba(255,255,255,0) 65%);
  mix-blend-mode: screen; opacity:0; transform: translateX(-55%);
}
.shine .pack-gloss{ animation: glossOnce .48s ease-out forwards; }
@keyframes glossOnce{
  0%{ opacity:0; transform: translateX(-55%); }
  18%{ opacity:.28; }
  100%{ opacity:0; transform: translateX(55%); }
}

/* Gentle click hint */
.click-hint{ animation: shake 2s ease-in-out infinite both; }
@keyframes shake{
  0%,100%{ transform: translateX(0) }
  15%{ transform: translateX(-2px) }
  30%{ transform: translateX(2px) }
  45%{ transform: translateX(-1px) }
  60%{ transform: translateX(1px) }
  75%{ transform: translateX(0) }
}

/* Classic rip */
.pack-display::after{
  content:""; position:absolute; top:0; bottom:0; left:50%; width:0;
  transform: translateX(-50%);
  pointer-events:none; opacity:0; mix-blend-mode:screen;
  background:
    radial-gradient(closest-side, rgba(255,255,255,.7), rgba(255,255,255,0) 65%) center/6px 90% no-repeat,
    linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.05));
  filter: drop-shadow(0 0 8px rgba(255,255,255,.25));
}
.rip .pack-display::after{ animation: ripBand .52s ease-out forwards; }
@keyframes ripBand{
  0%{ width:0; opacity:0; }
  40%{ width:10px; opacity:.9; }
  100%{ width:16px; opacity:.5; }
}
.rip .pack-left{ animation: classicLeft .52s cubic-bezier(.2,.7,.2,1) forwards; }
.rip .pack-right{ animation: classicRight .52s cubic-bezier(.2,.7,.2,1) forwards; }
@keyframes classicLeft{
  0%{ transform: translateX(0) rotate(0deg); }
  55%{ transform: translateX(-42%) rotate(-3deg); }
  100%{ transform: translateX(-56%) rotate(-5deg); }
}
@keyframes classicRight{
  0%{ transform: translateX(0) rotate(0deg); }
  55%{ transform: translateX(42%) rotate(3deg); }
  100%{ transform: translateX(56%) rotate(5deg); }
}

/* >>> Rarity-colored pack open glow <<< */
.pack-display.glow{ position:relative; }
.pack-display.glow::before{
  content:""; position:absolute; inset:-8%;
  border-radius:16px; pointer-events:none;
  background: radial-gradient(closest-side, var(--glow-col, rgba(16,185,129,.55)) 0%, rgba(0,0,0,0) 70%);
  filter: blur(14px);
  opacity: 0;
  transform: scale(.85);
  animation: glowBurst .6s ease-out forwards;
}
@keyframes glowBurst{
  0%   { opacity:0;   transform: scale(.85); }
  40%  { opacity:.95; transform: scale(1.05); }
  100% { opacity:0;   transform: scale(1.2); }
}

/* Result card */
.result-card{ position:absolute; width:var(--card-w); aspect-ratio: 63/88; border-radius:12px; border:1px solid #35415a; background:#0f172a; transform: translateY(8px) scale(.92); opacity:0; transition: transform .6s cubic-bezier(.2,.7,.2,1), opacity .6s; box-shadow: 0 18px 40px rgba(0,0,0,.45); overflow:hidden }
.show-card .result-card{ transform: translateY(0) scale(1); opacity:1; }
.result-img{ position:absolute; inset:0; object-fit:cover; width:100%; height:100%; filter: drop-shadow(0 6px 18px rgba(0,0,0,.45)); }
.result-overlay{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(9,12,20,0) 50%, rgba(9,12,20,.85) 80%, rgba(9,12,20,.95) 100%); }
.badge{ position:absolute; top:10px; left:10px; background:#111827; border:1px solid #2a3347; color:#d1e2ff; padding:6px 10px; border-radius:999px; font-size:12px; }
.card-meta{ position:absolute; bottom:10px; left:10px; right:10px; display:flex; align-items:center; justify-content:space-between; gap:8px; }
.name{ font-weight:800; letter-spacing:.2px }
.sub{ font-size:12px; color:#a5b4cf }
.rate{ font-weight:900; font-size:20px }

/* Rarity visual: badge color */
.badge[data-rarity="LEGEND"]{ color:#111; background:var(--rar-legend); border-color:#f8e08a; }
.badge[data-rarity="ICON"]  { color:#08222a; background:var(--rar-icon); border-color:#8be9ff; }
.badge[data-rarity="ELITE"] { color:#180a2a; background:var(--rar-elite); border-color:#cbb4ff; }
.badge[data-rarity="CORE"]  { color:#0a1a32; background:var(--rar-core); border-color:#a3c5ff; }
.badge[data-rarity="COMMON"]{ color:#0b0f17; background:var(--rar-common); border-color:#d6dbe3; }

/* >>> Rarity visual: card border & rate color <<< */
.result-card[data-rarity="LEGEND"]{ border-color:var(--rar-legend) }
.result-card[data-rarity="ICON"]  { border-color:var(--rar-icon) }
.result-card[data-rarity="ELITE"] { border-color:var(--rar-elite) }
.result-card[data-rarity="CORE"]  { border-color:var(--rar-core) }
.result-card[data-rarity="COMMON"]{ border-color:var(--rar-common) }
.result-card[data-rarity="LEGEND"] .rate{ color:var(--rar-legend) }
.result-card[data-rarity="ICON"]   .rate{ color:var(--rar-icon) }
.result-card[data-rarity="ELITE"]  .rate{ color:var(--rar-elite) }
.result-card[data-rarity="CORE"]   .rate{ color:var(--rar-core) }
.result-card[data-rarity="COMMON"] .rate{ color:var(--rar-common) }

/* Confetti + footer + a11y */
.confetti{ position:absolute; inset: -20vh -10vw; overflow:visible; pointer-events:none }
.confetti i{ position:absolute; width:8px; height:14px; background:hsl(var(--h) 90% 60%); top:-5vh; left:var(--x); transform: rotate(var(--r)); animation: fall linear forwards; animation-duration: var(--d); opacity:.9; }
@keyframes fall{ to{ transform: translateY(120vh) rotate(calc(var(--r) + 360deg)); } }

.footer{margin-top:14px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:flex-end}

.toast{position:fixed; left:50%; transform:translateX(-50%); bottom:16px; padding:10px 16px; background:#0e1525; border:1px solid #2a3347; color:#dbe7ff; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,.35); display:none}
.toast.show{display:block}
.visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px, 1px, 1px, 1px); white-space:nowrap; }
</style>
</head>
<body class="size-m">
<div class="container">
  <div class="header">
    <h1>PrimePick – 시리즈 & 팩 오픈</h1>
    <div class="toolbar">
      <div class="size-group">
        <button class="pill ghost" data-size="size-s" title="작게">작게</button>
        <button class="pill ghost active" data-size="size-m" title="보통">보통</button>
        <button class="pill ghost" data-size="size-l" title="크게">크게</button>
      </div>
      <button id="btnImport" class="pill">데이터 불러오기(JSON)</button>
      <button id="btnExport" class="pill ghost">데이터 내보내기</button>
      <button id="btnHome" class="pill ghost">처음으로</button>
    </div>
  </div>

  <!-- Screen: Series -->
  <section id="screenSeries">
    <div class="grid series" id="seriesGrid"></div>
  </section>

  <!-- Screen: Packs -->
  <section id="screenPacks" class="hidden">
    <div class="grid packs" id="packGrid"></div>
  </section>

  <!-- Screen: Open Stage -->
  <section id="screenOpen" class="hidden">
    <div class="stage">
      <div class="stage-inner">
        <div class="pack-area" id="packArea" aria-live="polite">
          <!-- 팩 앞/뒤 플립 (오픈 전 구성 확인) -->
          <div class="pack-flip" id="packFlip">
            <!-- 앞면(찢기 애니메이션 포함) -->
            <div class="pack-side pack-front">
              <div class="pack-display click-hint" id="packDisplay" role="button" tabindex="0" aria-label="팩 오픈하기">
                <div class="pack-half pack-left"><img id="packLeftImg" alt="팩 이미지 (좌)" /></div>
                <div class="pack-half pack-right"><img id="packRightImg" alt="팩 이미지 (우)" /></div>
                <div class="pack-gloss"></div>
              </div>
            </div>
            <!-- 뒷면(팩 구성 이미지) -->
            <div class="pack-side pack-back">
              <img id="packBackImg" alt="팩 뒷면(구성 안내)" />
            </div>
          </div>

          <!-- 결과 카드(앞면만) -->
          <div class="result-card" id="resultCard" aria-hidden="true" data-rarity="">
            <img class="result-img" id="playerImg" alt="선수 카드" />
            <div class="result-overlay"></div>
            <span class="badge" id="playerBadge" data-rarity="">RARITY</span>
            <div class="card-meta">
              <div>
                <div class="name" id="playerName">Player</div>
                <div class="sub" id="playerSub">POS · CLUB · NATION</div>
              </div>
              <div class="rate" id="playerRate">90</div>
            </div>
          </div>

          <div class="confetti" id="confetti"></div>
        </div>
      </div>
    </div>
    <div class="footer">
      <button id="btnOpen">팩 뜯기</button>
      <button id="btnFlip" class="ghost">팩 뒤집기</button>
      <button id="btnAgain" class="ghost">다시 뽑기</button>
      <button id="btnBackToPacks" class="ghost">팩 선택으로</button>
    </div>
  </section>

  <div class="toast" id="toast"></div>
  <div class="visually-hidden" aria-live="polite" id="ariaLive"></div>
</div>

<script>
/* ===== DATA (초기 빈 → ./data/fc25_data.json 자동 로드 시도) ===== */
let DATA = { series: [] };

/* ===== State ===== */
const qs = s=>document.querySelector(s);
const qsa = s=>Array.from(document.querySelectorAll(s));
let currentSeries = null;
let currentPack = null;
let opened = false;
const DEFAULT_PACK_BACK = 'assets/cards/pack_back_default.png';
let packFlipped = false;

/* ===== Helpers ===== */
function toast(msg, ms=1800){ const t = qs('#toast'); t.textContent = msg; t.classList.add('show'); setTimeout(()=> t.classList.remove('show'), ms); }
function announce(msg){ qs('#ariaLive').textContent = msg; }
function showScreen(id){ ['#screenSeries', '#screenPacks', '#screenOpen'].forEach(sel=>qs(sel).classList.add('hidden')); qs(id).classList.remove('hidden'); }

/* rarity utils */
function rarityFromRating(r){
  r = Number(r)||0;
  if (r>=90) return 'LEGEND';
  if (r>=87) return 'ICON';
  if (r>=84) return 'ELITE';
  if (r>=80) return 'CORE';
  return 'COMMON';
}
function rarityGlowColor(r){
  switch(String(r).toUpperCase()){
    case 'LEGEND': return 'rgba(234,179,8,.65)';
    case 'ICON':   return 'rgba(34,211,238,.60)';
    case 'ELITE':  return 'rgba(139,92,246,.60)';
    case 'CORE':   return 'rgba(59,130,246,.60)';
    default:       return 'rgba(156,163,175,.60)';
  }
}
function applyRarityBadge(r){
  const badge = qs('#playerBadge');
  badge.dataset.rarity = r;
  badge.textContent = r;
}

/* ===== Render ===== */
function renderSeries(){
  const grid = qs('#seriesGrid');
  grid.innerHTML = '';
  DATA.series.forEach(s=>{
    const el = document.createElement('article');
    el.className='card';
    el.innerHTML = `
      <img class="thumb" src="${s.poster}" alt="${s.name} 포스터" />
      <div class="meta">
        <div class="name">${s.name}</div>
        <div class="tag">${s.packs?.length||0} 팩</div>
      </div>`;
    el.addEventListener('click', ()=>{
      currentSeries = s;
      renderPacks(s);
      showScreen('#screenPacks');
    });
    grid.appendChild(el);
  });
}

function renderPacks(series){
  const grid = qs('#packGrid');
  grid.innerHTML = '';
  if(!series?.packs?.length){ toast('이 시리즈에 등록된 팩이 없습니다.'); return; }
  series.packs.forEach(p=>{
    const el = document.createElement('article');
    el.className='card';
    el.innerHTML = `
      <img class="thumb" src="${p.image}" alt="${p.name} 팩" />
      <div class="meta">
        <div class="name">${p.name}</div>
        <div class="tag">${p.players?.length||0} 선수</div>
      </div>`;
    el.addEventListener('click', ()=>{
      currentPack = p;
      setupOpenStage(p);
      showScreen('#screenOpen');
    });
    grid.appendChild(el);
  });
}

/* ===== Open Stage ===== */
function setupOpenStage(pack){
  opened = false;
  packFlipped = false;

  // pack images
  qs('#packLeftImg').src  = pack.image;
  qs('#packRightImg').src = pack.image;
  qs('#packBackImg').src  = pack.cardBack || DEFAULT_PACK_BACK;

  // reset anims
  const pd = qs('#packDisplay');
  pd.classList.remove('rip','click-hint','shine','glow');
  setTimeout(()=>pd.classList.add('click-hint'), 50);
  qs('#packFlip').classList.remove('is-flipped');

  // hide result
  qs('#resultCard').setAttribute('aria-hidden','true');
  qs('#screenOpen').classList.remove('show-card');

  // bind open
  const doOpen = ()=> openPack();
  qs('#btnOpen').onclick = doOpen;
  pd.onclick = doOpen;
  pd.onkeypress = (e)=>{ if(e.key==='Enter') doOpen(); };

  // flip (open 전용)
  const flipBtn = qs('#btnFlip');
  flipBtn.classList.remove('hidden');
  flipBtn.disabled = false;
  flipBtn.onclick = ()=>{
    packFlipped = !packFlipped;
    qs('#packFlip').classList.toggle('is-flipped', packFlipped);
  };

  // again / back
  qs('#btnAgain').onclick = ()=> setupOpenStage(pack);
  qs('#btnBackToPacks').onclick = ()=> showScreen('#screenPacks');
}

/* weighted pick (선수별 weight > rarityWeights > 기본값) */
function rarityKey(s){ return String(s||'').toUpperCase(); }
function pickWeightedPlayer(pack){
  const players = pack?.players || [];
  if (!players.length) return null;

  const DEFAULT_RW = { LEGEND: 13, ICON:13, ELITE:25, CORE:0, COMMON:0 };
  const seriesRW   = currentSeries?.rarityWeights;
  const rw = pack.rarityWeights || seriesRW || DEFAULT_RW;

  const weights = players.map(p=>{
    const rar = p.rarity ? rarityKey(p.rarity) : rarityFromRating(p.rating);
    const base = Number(rw[rar] ?? 1);
    const w = Number(p.weight ?? base);
    return isNaN(w) || w<=0 ? 0 : w;
  });
  const total = weights.reduce((a,b)=>a+b,0);
  if (total<=0) return players[Math.floor(Math.random()*players.length)];

  let r = Math.random()*total;
  for(let i=0;i<players.length;i++){
    r -= weights[i];
    if (r<=0) return players[i];
  }
  return players[players.length-1];
}

/* confetti */
function confettiBurst(){
  const area = qs('#confetti');
  area.innerHTML='';
  for(let i=0;i<80;i++){
    const piece = document.createElement('i');
    piece.style.setProperty('--x', (Math.random()*100)+'%');
    piece.style.setProperty('--h', Math.floor(Math.random()*360));
    piece.style.setProperty('--r', (Math.random()*360)+'deg');
    piece.style.setProperty('--d', (2.4 + Math.random()*1.6)+'s');
    area.appendChild(piece);
  }
  setTimeout(()=> area.innerHTML='', 4000);
}

function openPack(){
  if(opened) return;
  opened = true;

  // flip back to front if needed
  if (packFlipped) {
    qs('#packFlip').classList.remove('is-flipped');
    packFlipped = false;
  }

  const pd = qs('#packDisplay');
  pd.classList.remove('click-hint');
  pd.classList.add('shine');

  // pick
  const player = pickWeightedPlayer(currentPack);
  if(!player){ toast('이 팩에 선수가 없습니다. DATA.players를 채워주세요.'); return; }
  const rarity = player.rarity ? String(player.rarity).toUpperCase() : rarityFromRating(player.rating);

  // rarity-colored pack glow (짧은 버스트)
  pd.style.setProperty('--glow-col', rarityGlowColor(rarity));
  pd.classList.add('glow');
  setTimeout(()=> pd.classList.remove('glow'), 650);

  // run tear after shine
  setTimeout(()=>{ pd.classList.remove('shine'); pd.classList.add('rip'); }, 120);

  // fill card
  qs('#playerImg').src = player.image;
  qs('#playerName').textContent = player.name || 'Player';
  qs('#playerRate').textContent = player.rating ?? '';
  qs('#playerSub').textContent = [player.position, player.club, player.nation].filter(Boolean).join(' · ');
  applyRarityBadge(rarity);
  qs('#resultCard').dataset.rarity = rarity; // 테두리/능력치 색 적용

  // reveal after tear
  setTimeout(()=>{
    qs('#screenOpen').classList.add('show-card');
    qs('#resultCard').removeAttribute('aria-hidden');

    // 오픈 후에는 플립 비활성/숨김
    const flipBtn = qs('#btnFlip');
    flipBtn.disabled = true;
    flipBtn.classList.add('hidden');

    announce(`${player.name} (${rarity}) 획득!`);
    confettiBurst();
  }, 560);
}

/* ===== Import/Export ===== */
qs('#btnExport').addEventListener('click', ()=>{
  const blob = new Blob([JSON.stringify(DATA, null, 2)], {type:'application/json'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'fc25_data.json';
  a.click();
  URL.revokeObjectURL(a.href);
});

qs('#btnImport').addEventListener('click', ()=>{
  const inp = document.createElement('input'); inp.type='file'; inp.accept='.json,application/json';
  inp.addEventListener('change', ()=>{
    const file = inp.files?.[0]; if(!file) return;
    const reader = new FileReader();
    reader.onload = ()=>{
      try{
        const parsed = JSON.parse(reader.result);
        if(!parsed?.series){ throw new Error('series 키가 없습니다.'); }
        DATA = parsed;
        toast('데이터를 불러왔습니다.');
        currentSeries = null; currentPack = null;
        renderSeries();
        showScreen('#screenSeries');
      }catch(e){
        toast('JSON 파싱 오류: ' + e.message);
      }
    };
    reader.readAsText(file, 'utf-8');
  });
  inp.click();
});

/* ===== Size toggles ===== */
qsa('.size-group button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    qsa('.size-group button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    document.body.classList.remove('size-s','size-m','size-l');
    document.body.classList.add(btn.dataset.size);
  });
});

/* Home button */
qs('#btnHome').addEventListener('click', ()=>{
  currentSeries = null; currentPack = null;
  renderSeries();
  showScreen('#screenSeries');
});

/* ===== Init (auto-load ./data/fc25_data.json) ===== */
async function init(){
  try{
    const res = await fetch('./data/fc25_data.json', {cache:'no-cache'});
    if (res.ok){
      const json = await res.json();
      if (json?.series) DATA = json;
    }
  }catch(e){ /* 로컬 미배포 환경이면 조용히 무시 */ }
  renderSeries();
  showScreen('#screenSeries');
}
init();
</script>
</body>
</html>
